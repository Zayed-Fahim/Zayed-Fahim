name: Waka Readme

on:
  # for manual workflow trigger
  workflow_dispatch:
  schedule:
    - cron: "0 0 * * *"  # runs at 12 AM UTC (5:30 AM IST)

jobs:
  update-readme:
    name: Zayed Fahim
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Update Wakatime Stats
      uses: srt32/wakatime-box@v1

    - name: Update README with Wakatime Stats
      uses: athul/waka-readme@master
      with:
        WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }} # required
        API_BASE_URL: https://wakatime.com/api # optional
        SHOW_TITLE: true # optional
        BLOCKS: |
          {
            "TIME_RANGE": "all-time",
            "LANG_COUNT": 10,
            "SHOW_TIME": true,
            "SHOW_TOTAL": true,
            "SHOW_MASKED_TIME": false,
            "STOP_AT_OTHER": true
          }

